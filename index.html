<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&display=swap');
        
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
        }
        
        .option-card {
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }
        
        .option-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        
        .option-card.selected {
            border-color: #4F46E5;
            background-color: #EEF2FF;
        }
        
        .progress-bar {
            transition: width 0.5s ease;
        }
        
        .result-card {
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.8s ease;
        }
        
        .result-card.show {
            opacity: 1;
            transform: translateY(0);
        }
        
        .fade-in {
            animation: fadeIn 0.8s ease forwards;
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .type-card {
            transition: all 0.3s ease;
        }
        
        .type-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        
        .medal {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .medal-gold {
            background: linear-gradient(135deg, #FFD700 0%, #FFC107 100%);
            color: #7D5700;
        }
        
        .medal-silver {
            background: linear-gradient(135deg, #E0E0E0 0%, #BDBDBD 100%);
            color: #616161;
        }
        
        .medal-bronze {
            background: linear-gradient(135deg, #D7995B 0%, #B17846 100%);
            color: #6D4C2F;
        }
        
        .chart-bar {
            transition: width 1s ease;
        }
    </style>
</head>
<body>
    <div class="container mx-auto px-4 py-8 max-w-4xl">
        <!-- é–‹å§‹é é¢ -->
        <div id="start-screen" class="bg-white rounded-2xl shadow-lg p-8 mb-8 text-center">
            <h1 class="text-3xl font-bold text-indigo-800 mb-6">ç”Ÿæ´»æ–¹å¼å‹æ…‹æ¸¬é©—</h1>
            <p class="text-lg text-gray-700 mb-4">è¤‡é¸åŠ æ¬Šç‰ˆ (6é¡Œ)</p>
            <p class="text-gray-600 mb-8">é€é 6 å€‹å•é¡Œï¼Œæ‰¾å‡ºæœ€é©åˆä½ çš„ç”Ÿæ´»æ–¹å¼å‹æ…‹èˆ‡å­¸ç¾¤æ¨è–¦ï¼</p>
            
            <div class="grid grid-cols-3 gap-4 mb-8">
                <div class="bg-indigo-50 p-4 rounded-lg text-center type-card">
                    <div class="text-indigo-600 font-bold">A</div>
                    <div class="text-sm">å†’éšªæ¢ç´¢ç”Ÿæ´»å‹</div>
                </div>
                <div class="bg-pink-50 p-4 rounded-lg text-center type-card">
                    <div class="text-pink-600 font-bold">B</div>
                    <div class="text-sm">ç™‚ç™’æˆé•·ç”Ÿæ´»å‹</div>
                </div>
                <div class="bg-amber-50 p-4 rounded-lg text-center type-card">
                    <div class="text-amber-600 font-bold">C</div>
                    <div class="text-sm">è‡ªç”±å‰µä½œç”Ÿæ´»å‹</div>
                </div>
                <div class="bg-emerald-50 p-4 rounded-lg text-center type-card">
                    <div class="text-emerald-600 font-bold">D</div>
                    <div class="text-sm">å®‰å®šæº«æš–ç”Ÿæ´»å‹</div>
                </div>
                <div class="bg-blue-50 p-4 rounded-lg text-center type-card">
                    <div class="text-blue-600 font-bold">E</div>
                    <div class="text-sm">å½±éŸ¿ä¸–ç•Œç”Ÿæ´»å‹</div>
                </div>
                <div class="bg-violet-50 p-4 rounded-lg text-center type-card">
                    <div class="text-violet-600 font-bold">F</div>
                    <div class="text-sm">æ·±åº¦å°ˆç ”ç”Ÿæ´»å‹</div>
                </div>
            </div>
            
            <div class="bg-indigo-50 p-4 rounded-lg mb-8">
                <p class="text-indigo-800 font-medium">ğŸ“ æ¸¬é©—èªªæ˜</p>
                <p class="text-gray-700">æ¯é¡Œå¯é¸æ“‡ 1-2 å€‹é¸é …ï¼Œè«‹é¸æ“‡æœ€ç¬¦åˆä½ çš„é¸é …</p>
            </div>
            
            <button id="start-btn" class="bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-8 rounded-full shadow-md transition duration-300 text-lg">é–‹å§‹æ¸¬é©—</button>
        </div>

        <!-- æ¸¬é©—é é¢ -->
        <div id="quiz-screen" class="hidden">
            <div class="bg-white rounded-2xl shadow-lg p-8 mb-8">
                <div class="flex justify-between items-center mb-6">
                    <h2 id="question-number" class="text-xl font-bold text-indigo-800">å•é¡Œ 1/6</h2>
                    <div class="text-sm text-gray-500">å®Œæˆåº¦: <span id="progress-percent">0%</span></div>
                </div>
                
                <div class="w-full bg-gray-200 rounded-full h-2.5 mb-8">
                    <div id="progress-bar" class="bg-indigo-600 h-2.5 rounded-full progress-bar" style="width: 0%"></div>
                </div>
                
                <h3 id="question-text" class="text-2xl font-medium text-gray-800 mb-4">ä½ çš„ç†æƒ³æ—¥å¸¸æ˜¯ï¼Ÿ</h3>
                <p class="text-gray-500 mb-6">è«‹é¸æ“‡ 1-2 å€‹æœ€ç¬¦åˆä½ çš„é¸é …</p>
                
                <div id="options-container" class="grid grid-cols-1 gap-4 mb-8">
                    <!-- é¸é …æœƒåœ¨é€™è£¡å‹•æ…‹ç”Ÿæˆ -->
                </div>
                
                <div class="flex justify-between">
                    <button id="prev-btn" class="bg-gray-200 hover:bg-gray-300 text-gray-700 font-medium py-2 px-6 rounded-lg transition duration-300 disabled:opacity-50 disabled:cursor-not-allowed">ä¸Šä¸€é¡Œ</button>
                    <div id="selection-hint" class="text-amber-600 font-medium">è«‹è‡³å°‘é¸æ“‡ 1 å€‹é¸é …</div>
                    <button id="next-btn" class="bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-2 px-6 rounded-lg transition duration-300 disabled:opacity-50 disabled:cursor-not-allowed">ä¸‹ä¸€é¡Œ</button>
                </div>
            </div>
        </div>

        <!-- çµæœé é¢ - ç”Ÿæ´»å‹æ…‹ -->
        <div id="result-lifestyle-screen" class="hidden">
            <div class="bg-white rounded-2xl shadow-lg p-8 mb-8 result-card">
                <div class="text-center mb-8">
                    <div class="inline-block p-3 rounded-full bg-indigo-100 mb-4">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-indigo-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                    </div>
                    <h2 class="text-3xl font-bold text-gray-800 mb-2">æ¸¬é©—çµæœ</h2>
                    <p class="text-gray-600">æ ¹æ“šä½ çš„å›ç­”ï¼Œä»¥ä¸‹æ˜¯ä½ çš„ç”Ÿæ´»æ–¹å¼å‹æ…‹åˆ†æï¼š</p>
                </div>
                
                <!-- ç”Ÿæ´»å‹æ…‹çµæœ -->
                <div class="mb-8">
                    <h3 class="text-xl font-bold text-indigo-800 mb-4">ä½ çš„ç”Ÿæ´»æ–¹å¼å‹æ…‹</h3>
                    <div id="lifestyle-results" class="space-y-6">
                        <!-- ç”Ÿæ´»å‹æ…‹çµæœæœƒåœ¨é€™è£¡å‹•æ…‹ç”Ÿæˆ -->
                    </div>
                </div>
                
                <!-- åˆ†æ•¸åˆ†å¸ƒ -->
                <div class="mb-8">
                    <h4 class="text-lg font-medium text-gray-800 mb-4">ç”Ÿæ´»å‹æ…‹åˆ†æ•¸åˆ†å¸ƒ</h4>
                    <div id="score-distribution" class="space-y-4">
                        <!-- åˆ†æ•¸åˆ†å¸ƒæœƒåœ¨é€™è£¡å‹•æ…‹ç”Ÿæˆ -->
                    </div>
                </div>
                
                <div class="text-center">
                    <button id="show-majors-btn" class="bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-8 rounded-full shadow-md transition duration-300">æŸ¥çœ‹å­¸ç¾¤æ¨è–¦</button>
                </div>
            </div>
        </div>

        <!-- çµæœé é¢ - å­¸ç¾¤æ¨è–¦ -->
        <div id="result-major-screen" class="hidden">
            <div class="bg-white rounded-2xl shadow-lg p-8 mb-8 result-card">
                <div class="text-center mb-8">
                    <div class="inline-block p-3 rounded-full bg-indigo-100 mb-4">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-indigo-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
                        </svg>
                    </div>
                    <h2 class="text-3xl font-bold text-gray-800 mb-2">å­¸ç¾¤æ¨è–¦çµæœ</h2>
                    <p class="text-gray-600">æ ¹æ“šä½ çš„ç”Ÿæ´»æ–¹å¼å‹æ…‹ï¼Œä»¥ä¸‹æ˜¯æœ€é©åˆä½ çš„å­¸ç¾¤æ¨è–¦ï¼š</p>
                </div>
                
                <!-- å­¸ç¾¤æ¨è–¦çµæœ -->
                <div class="mb-8">
                    <h3 class="text-xl font-bold text-indigo-800 mb-4">æœ€é©åˆä½ çš„å­¸ç¾¤æ¨è–¦</h3>
                    <div id="major-results" class="space-y-6">
                        <!-- å­¸ç¾¤æ¨è–¦çµæœæœƒåœ¨é€™è£¡å‹•æ…‹ç”Ÿæˆ -->
                    </div>
                </div>
                
                <div class="text-center space-x-4">
                    <button id="back-to-lifestyle-btn" class="bg-gray-200 hover:bg-gray-300 text-gray-700 font-medium py-3 px-8 rounded-full shadow-md transition duration-300">è¿”å›ç”Ÿæ´»å‹æ…‹</button>
                    <button id="restart-btn" class="bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-8 rounded-full shadow-md transition duration-300">é‡æ–°æ¸¬é©—</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // æ¸¬é©—æ•¸æ“š
        const quizData = [
            {
                question: "ä½ çš„ç†æƒ³æ—¥å¸¸æ˜¯ï¼Ÿ",
                options: [
                    { 
                        text: "è‡ªåŠ©æ—…è¡Œã€èµ°åœ¨ç•°åœ‹å°å··", 
                        weights: [
                            { type: "A", value: 1.0 },
                            { type: "C", value: 0.3 }
                        ]
                    },
                    { 
                        text: "é™ªä¼´æœ‹å‹æˆé•·ã€åƒåŠ å…¬ç›Šå¿—å·¥", 
                        weights: [
                            { type: "B", value: 1.0 },
                            { type: "D", value: 0.5 }
                        ]
                    },
                    { 
                        text: "ä¸€å€‹äººåœ¨ç•«å®¤ã€å’–å•¡å»³å‰µä½œ", 
                        weights: [
                            { type: "C", value: 1.0 },
                            { type: "F", value: 0.4 }
                        ]
                    },
                    { 
                        text: "ç­–åŠƒä¸€å ´è®“ç¤¾ç¾¤éœ‡æ’¼çš„æ´»å‹•", 
                        weights: [
                            { type: "E", value: 1.0 },
                            { type: "A", value: 0.5 }
                        ]
                    }
                ]
            },
            {
                question: "é‡åˆ°æŒ‘æˆ°æ™‚ï¼Œä½ æœ€ç›´è¦ºçš„åæ‡‰ï¼Ÿ",
                options: [
                    { 
                        text: "è¶…æƒ³å˜—è©¦ï¼Œä¸æ€•å¤±æ•—", 
                        weights: [
                            { type: "A", value: 1.0 },
                            { type: "E", value: 0.4 }
                        ]
                    },
                    { 
                        text: "å†·éœè¦åŠƒï¼ŒæŠŠäº‹æƒ…ç©©å®šæ¨é€²", 
                        weights: [
                            { type: "D", value: 1.0 },
                            { type: "F", value: 0.5 }
                        ]
                    },
                    { 
                        text: "æ„Ÿå—æƒ…ç·’ã€é—œæ³¨ä»–äººçš„æ„Ÿå—", 
                        weights: [
                            { type: "B", value: 1.0 },
                            { type: "C", value: 0.3 }
                        ]
                    },
                    { 
                        text: "éˆæ©Ÿä¸€å‹•ï¼Œæƒ³å‡ºå‰µæ–°çš„è§£æ³•", 
                        weights: [
                            { type: "C", value: 1.0 },
                            { type: "A", value: 0.4 }
                        ]
                    }
                ]
            },
            {
                question: "æœ€å¸å¼•ä½ çš„ç”Ÿæ´»ç•«é¢ï¼Ÿ",
                options: [
                    { 
                        text: "ç„¡è¨ˆç•«åœ°æµæµªä¸€æ•´å€‹æœˆ", 
                        weights: [
                            { type: "A", value: 1.0 },
                            { type: "C", value: 0.5 }
                        ]
                    },
                    { 
                        text: "è®“ä¸€å€‹å­©å­å› ä½ è€Œæ‰¾åˆ°å¤¢æƒ³", 
                        weights: [
                            { type: "B", value: 1.0 },
                            { type: "D", value: 0.5 }
                        ]
                    },
                    { 
                        text: "æˆç‚ºå°ˆæ¥­é ˜åŸŸçš„æ„è¦‹é ˜è¢–", 
                        weights: [
                            { type: "E", value: 1.0 },
                            { type: "F", value: 0.5 }
                        ]
                    },
                    { 
                        text: "æ·±è€•ä¸€å€‹å†·é–€å»æœ‰è¶£çš„é ˜åŸŸ", 
                        weights: [
                            { type: "F", value: 1.0 },
                            { type: "C", value: 0.4 }
                        ]
                    }
                ]
            },
            {
                question: "å·¥ä½œå°ä½ ä¾†èªªæœ€é‡è¦çš„æ˜¯ï¼Ÿ",
                options: [
                    { 
                        text: "æœ‰æ©Ÿæœƒæ¥è§¸ä¸åŒæ–‡åŒ–ã€æŒ‘æˆ°æ–°äº‹ç‰©", 
                        weights: [
                            { type: "A", value: 1.0 },
                            { type: "E", value: 0.3 }
                        ]
                    },
                    { 
                        text: "å»ºç«‹æ·±åšé—œä¿‚ã€é™ªä¼´æˆé•·", 
                        weights: [
                            { type: "B", value: 1.0 },
                            { type: "D", value: 0.5 }
                        ]
                    },
                    { 
                        text: "èƒ½æŒçºŒå‰µä½œï¼Œè¡¨é”è‡ªå·±", 
                        weights: [
                            { type: "C", value: 1.0 },
                            { type: "F", value: 0.4 }
                        ]
                    },
                    { 
                        text: "æŠ•å…¥é‡è¦è­°é¡Œï¼Œæ¨å‹•æ”¹è®Š", 
                        weights: [
                            { type: "E", value: 1.0 },
                            { type: "A", value: 0.5 }
                        ]
                    }
                ]
            },
            {
                question: "å¦‚æœæœ‰ä¸€æ•´å¹´è‡ªç”±å®‰æ’ï¼Œä½ æœƒï¼Ÿ",
                options: [
                    { 
                        text: "èƒŒåŒ…å®¢æ—…è¡Œ10å€‹åœ‹å®¶", 
                        weights: [
                            { type: "A", value: 1.0 },
                            { type: "C", value: 0.4 }
                        ]
                    },
                    { 
                        text: "æˆç‚ºå¿ƒéˆå°å¸«ã€é™ªä¼´æˆé•·", 
                        weights: [
                            { type: "B", value: 1.0 },
                            { type: "D", value: 0.5 }
                        ]
                    },
                    { 
                        text: "å‰µä½œè‡ªå·±çš„ä½œå“é›†æˆ–å“ç‰Œ", 
                        weights: [
                            { type: "C", value: 1.0 },
                            { type: "A", value: 0.5 }
                        ]
                    },
                    { 
                        text: "å°ˆæ³¨æ·±è€•ä¸€å€‹æ–°é ˜åŸŸï¼Œæˆç‚ºå°ˆå®¶", 
                        weights: [
                            { type: "F", value: 1.0 },
                            { type: "E", value: 0.4 }
                        ]
                    }
                ]
            },
            {
                question: "ä½ å¿ƒä¸­æœ€åš®å¾€çš„åƒ¹å€¼æ˜¯ï¼Ÿ",
                options: [
                    { 
                        text: "å†’éšªè‡ªç”±", 
                        weights: [
                            { type: "A", value: 1.0 },
                            { type: "C", value: 0.4 }
                        ]
                    },
                    { 
                        text: "æº«æš–æ”¯æŒ", 
                        weights: [
                            { type: "B", value: 1.0 },
                            { type: "D", value: 0.5 }
                        ]
                    },
                    { 
                        text: "å‰µæ–°è‡ªæˆ‘", 
                        weights: [
                            { type: "C", value: 1.0 },
                            { type: "A", value: 0.5 }
                        ]
                    },
                    { 
                        text: "æ”¹è®Šä¸–ç•Œ", 
                        weights: [
                            { type: "E", value: 1.0 },
                            { type: "F", value: 0.5 }
                        ]
                    }
                ]
            }
        ];

        // ç”Ÿæ´»å‹æ…‹æè¿°
        const typeDescriptions = {
            "A": {
                title: "å†’éšªæ¢ç´¢ç”Ÿæ´»å‹",
                code: "Aå‹",
                description: "ä¸–ç•Œå¤ªå¤§ï¼Œä¸å¾…åœ¨åŸåœ°ï¼å–œæ­¡æ¢ç´¢ä¸åŒæ–‡åŒ–ï¼Œå˜—è©¦æ–°äº‹ç‰©ï¼Œæ¯å¤©éƒ½æƒ³åœ¨æœªçŸ¥ä¸­å†’éšªèˆ‡æˆé•·ã€‚",
                color: "from-indigo-50 to-blue-50",
                textColor: "text-indigo-800",
                bgColor: "bg-indigo-600",
                jobs: [
                    "åœ‹éš›äº¤æµäººå“¡",
                    "è‡ªç”±æ¥æ¡ˆæ—…éŠå·¥ä½œè€…",
                    "å¤–æ´¾é§é»äººå“¡",
                    "æ¢éšªä½œå®¶ã€Vlogger"
                ],
                majors: [
                    { name: "è§€å…‰ä¼‘é–’ç¾¤", weight: 90 },
                    { name: "åœ‹éš›é—œä¿‚ç¾¤", weight: 80 },
                    { name: "åœ°ç†ç¾¤", weight: 70 }
                ]
            },
            "B": {
                title: "ç™‚ç™’æˆé•·ç”Ÿæ´»å‹",
                code: "Bå‹",
                description: "å–œæ­¡æ…¢æ…¢é™ªä¼´ï¼Œçœ‹è¦‹ä»–äººæˆé•·çš„éç¨‹ã€‚æ¸´æœ›è®“è‡ªå·±å’Œä¸–ç•Œè®Šå¾—æ›´æº«æš–æœ‰åŠ›é‡ã€‚",
                color: "from-pink-50 to-rose-50",
                textColor: "text-pink-800",
                bgColor: "bg-pink-600",
                jobs: [
                    "å¿ƒç†è«®è©¢å¸«",
                    "æ•™è‚²å·¥ä½œè€…",
                    "ç¤¾å·¥å¸«",
                    "å¥åº·æ¨å»£èˆ‡è­·ç†ç›¸é—œè·æ¥­"
                ],
                majors: [
                    { name: "å¿ƒç†ç¾¤", weight: 90 },
                    { name: "æ•™è‚²ç¾¤", weight: 85 },
                    { name: "é†«è­·ç¾¤", weight: 80 }
                ]
            },
            "C": {
                title: "è‡ªç”±å‰µä½œç”Ÿæ´»å‹",
                code: "Cå‹",
                description: "ç”¨ä½œå“è¡¨é”éˆé­‚ï¼Œä¸å—é™åœ°å‰µé€ ã€‚å¸Œæœ›ç”Ÿæ´»å°±æ˜¯ä¸€å ´ç„¡é‚Šç„¡éš›çš„è—è¡“èˆ‡éˆæ„Ÿä¹‹æ—…ã€‚",
                color: "from-amber-50 to-yellow-50",
                textColor: "text-amber-800",
                bgColor: "bg-amber-600",
                jobs: [
                    "è—è¡“å‰µä½œè€…",
                    "è¨­è¨ˆå¸«",
                    "ä½œå®¶ï¼ç·¨åŠ‡",
                    "è‡ªåª’é«”ç¶“ç‡Ÿè€…"
                ],
                majors: [
                    { name: "è—è¡“ç¾¤", weight: 95 },
                    { name: "è¨­è¨ˆç¾¤", weight: 90 },
                    { name: "å‚³æ’­ç¾¤", weight: 85 }
                ]
            },
            "D": {
                title: "å®‰å®šæº«æš–ç”Ÿæ´»å‹",
                code: "Då‹",
                description: "å–œæ­¡æœ‰è¦å¾‹ã€æœ‰æ­¸å±¬æ„Ÿçš„ç”Ÿæ´»ã€‚æ¸´æœ›å»ºç«‹ç©©å®šçš„äººéš›é—œä¿‚å’Œæº«æš–çš„å±…æ‰€ã€‚",
                color: "from-emerald-50 to-green-50",
                textColor: "text-emerald-800",
                bgColor: "bg-emerald-600",
                jobs: [
                    "è¡Œæ”¿ç®¡ç†äººå“¡",
                    "å…¬è·äººå“¡",
                    "è²¡å‹™å°ˆå“¡",
                    "æ•™è‚²è¡Œæ”¿äººå“¡"
                ],
                majors: [
                    { name: "ç®¡ç†ç¾¤", weight: 90 },
                    { name: "è²¡é‡‘ç¾¤", weight: 85 },
                    { name: "æ•™è‚²ç¾¤", weight: 80 }
                ]
            },
            "E": {
                title: "å½±éŸ¿ä¸–ç•Œç”Ÿæ´»å‹",
                code: "Eå‹",
                description: "å¸Œæœ›è‡ªå·±çš„è¡Œå‹•èƒ½å¸¶ä¾†æ”¹è®Šã€‚æ¸´æœ›é ˜å°ã€ç­–åŠƒã€æ¨å‹•æ–°çš„è¨ˆç•«èˆ‡æ”¹è®Šæ½®æµã€‚",
                color: "from-blue-50 to-sky-50",
                textColor: "text-blue-800",
                bgColor: "bg-blue-600",
                jobs: [
                    "å‰µæ¥­å®¶",
                    "æ”¿æ²»å·¥ä½œè€…",
                    "å…¬é—œè¡ŒéŠ·äººå“¡",
                    "ç¤¾æœƒé‹å‹•å€¡è­°è€…"
                ],
                majors: [
                    { name: "ç®¡ç†ç¾¤", weight: 95 },
                    { name: "æ”¿æ²»ç¾¤", weight: 90 },
                    { name: "å‚³æ’­ç¾¤", weight: 80 }
                ]
            },
            "F": {
                title: "æ·±åº¦å°ˆç ”ç”Ÿæ´»å‹",
                code: "Få‹",
                description: "å–œæ­¡é‘½ç ”ã€æ·±åº¦å­¸ç¿’ã€‚å¸Œæœ›å°ˆå¿ƒåœ¨çŸ¥è­˜ã€æŠ€è¡“æˆ–ç ”ç©¶é ˜åŸŸä¸­ï¼Œæ…¢æ…¢æˆå°±ä¸€ç•ªäº‹æ¥­ã€‚",
                color: "from-violet-50 to-purple-50",
                textColor: "text-violet-800",
                bgColor: "bg-violet-600",
                jobs: [
                    "å­¸è€…ç ”ç©¶å“¡",
                    "å°ˆæ¥­æŠ€è¡“å·¥ç¨‹å¸«",
                    "è³‡æ–™ç§‘å­¸å®¶",
                    "å°ˆæ¥­é¡§å•"
                ],
                majors: [
                    { name: "ç†å·¥ç¾¤", weight: 95 },
                    { name: "æ–‡å²å“²ç¾¤", weight: 85 },
                    { name: "ç¤¾æœƒç§‘å­¸ç¾¤", weight: 80 }
                ]
            }
        };

        // é¡è‰²å°æ‡‰
        const typeColors = {
            "A": { bg: "bg-indigo-100", text: "text-indigo-800", bar: "bg-indigo-600" },
            "B": { bg: "bg-pink-100", text: "text-pink-800", bar: "bg-pink-600" },
            "C": { bg: "bg-amber-100", text: "text-amber-800", bar: "bg-amber-600" },
            "D": { bg: "bg-emerald-100", text: "text-emerald-800", bar: "bg-emerald-600" },
            "E": { bg: "bg-blue-100", text: "text-blue-800", bar: "bg-blue-600" },
            "F": { bg: "bg-violet-100", text: "text-violet-800", bar: "bg-violet-600" }
        };

        // æ¸¬é©—ç‹€æ…‹
        let currentQuestion = 0;
        let scores = { A: 0, B: 0, C: 0, D: 0, E: 0, F: 0 };
        let userAnswers = [];
        let sortedLifestyles = [];
        let sortedMajors = [];
        let percentages = {};

        // DOM å…ƒç´ 
        const startScreen = document.getElementById('start-screen');
        const quizScreen = document.getElementById('quiz-screen');
        const resultLifestyleScreen = document.getElementById('result-lifestyle-screen');
        const resultMajorScreen = document.getElementById('result-major-screen');
        const startBtn = document.getElementById('start-btn');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const questionNumber = document.getElementById('question-number');
        const questionText = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const progressBar = document.getElementById('progress-bar');
        const progressPercent = document.getElementById('progress-percent');
        const selectionHint = document.getElementById('selection-hint');
        const lifestyleResults = document.getElementById('lifestyle-results');
        const majorResults = document.getElementById('major-results');
        const scoreDistribution = document.getElementById('score-distribution');
        const showMajorsBtn = document.getElementById('show-majors-btn');
        const backToLifestyleBtn = document.getElementById('back-to-lifestyle-btn');
        const restartBtn = document.getElementById('restart-btn');

        // é–‹å§‹æ¸¬é©—
        startBtn.addEventListener('click', () => {
            startScreen.classList.add('hidden');
            quizScreen.classList.remove('hidden');
            loadQuestion(0);
        });

        // é‡æ–°æ¸¬é©—
        restartBtn.addEventListener('click', () => {
            currentQuestion = 0;
            scores = { A: 0, B: 0, C: 0, D: 0, E: 0, F: 0 };
            userAnswers = [];
            sortedLifestyles = [];
            sortedMajors = [];
            percentages = {};
            resultMajorScreen.classList.add('hidden');
            quizScreen.classList.remove('hidden');
            loadQuestion(0);
        });

        // é¡¯ç¤ºå­¸ç¾¤æ¨è–¦
        showMajorsBtn.addEventListener('click', () => {
            resultLifestyleScreen.classList.add('hidden');
            resultMajorScreen.classList.remove('hidden');
            
            // é¡¯ç¤ºçµæœå¡ç‰‡å‹•ç•«
            setTimeout(() => {
                document.querySelector('#result-major-screen .result-card').classList.add('show');
            }, 100);
            
            // é¡¯ç¤ºå­¸ç¾¤æ¨è–¦
            showMajorResults();
        });

        // è¿”å›ç”Ÿæ´»å‹æ…‹
        backToLifestyleBtn.addEventListener('click', () => {
            resultMajorScreen.classList.add('hidden');
            resultLifestyleScreen.classList.remove('hidden');
        });

        // ä¸Šä¸€é¡Œ
        prevBtn.addEventListener('click', () => {
            if (currentQuestion > 0) {
                // ç§»é™¤ç•¶å‰å•é¡Œçš„åˆ†æ•¸
                if (userAnswers[currentQuestion]) {
                    userAnswers[currentQuestion].forEach(optionIndex => {
                        const option = quizData[currentQuestion].options[optionIndex];
                        option.weights.forEach(weight => {
                            scores[weight.type] -= weight.value;
                        });
                    });
                }
                
                currentQuestion--;
                loadQuestion(currentQuestion);
            }
        });

        // ä¸‹ä¸€é¡Œ
        nextBtn.addEventListener('click', () => {
            if (currentQuestion < quizData.length - 1) {
                currentQuestion++;
                loadQuestion(currentQuestion);
            } else {
                showResult();
            }
        });

        // è¼‰å…¥å•é¡Œ
        function loadQuestion(index) {
            // æ›´æ–°å•é¡Œ
            questionNumber.textContent = `å•é¡Œ ${index + 1}/${quizData.length}`;
            questionText.textContent = quizData[index].question;
            
            // æ›´æ–°é€²åº¦æ¢
            const progress = ((index) / quizData.length) * 100;
            progressBar.style.width = `${progress}%`;
            progressPercent.textContent = `${Math.round(progress)}%`;
            
            // æ›´æ–°æŒ‰éˆ•ç‹€æ…‹
            prevBtn.disabled = index === 0;
            nextBtn.textContent = index === quizData.length - 1 ? 'æŸ¥çœ‹çµæœ' : 'ä¸‹ä¸€é¡Œ';
            
            // æª¢æŸ¥æ˜¯å¦å·²é¸æ“‡
            const hasSelection = userAnswers[index] && userAnswers[index].length > 0;
            nextBtn.disabled = !hasSelection;
            selectionHint.style.visibility = hasSelection ? 'hidden' : 'visible';
            
            // æ¸…ç©ºé¸é …å®¹å™¨
            optionsContainer.innerHTML = '';
            
            // æ·»åŠ é¸é …
            quizData[index].options.forEach((option, optionIndex) => {
                const isSelected = userAnswers[index] && userAnswers[index].includes(optionIndex);
                
                const optionCard = document.createElement('div');
                optionCard.className = `option-card p-4 rounded-lg cursor-pointer hover:bg-gray-50 ${isSelected ? 'selected' : ''}`;
                
                // é¸é …å…§å®¹
                const optionContent = document.createElement('div');
                optionContent.className = 'flex items-center';
                
                // è¤‡é¸æ¡†
                const checkbox = document.createElement('div');
                checkbox.className = `w-6 h-6 rounded-md border-2 border-gray-300 flex items-center justify-center mr-3 ${isSelected ? 'bg-indigo-600 border-indigo-600' : ''}`;
                if (isSelected) {
                    checkbox.innerHTML = '<svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>';
                }
                
                // é¸é …æ–‡å­—
                const optionText = document.createElement('div');
                optionText.className = 'flex-1';
                optionText.innerHTML = `<p class="text-gray-800">${option.text}</p>`;
                
                // çµ„åˆé¸é …
                optionContent.appendChild(checkbox);
                optionContent.appendChild(optionText);
                optionCard.appendChild(optionContent);
                
                // é»æ“Šäº‹ä»¶
                optionCard.addEventListener('click', () => {
                    // åˆå§‹åŒ–ç•¶å‰å•é¡Œçš„ç­”æ¡ˆé™£åˆ—
                    if (!userAnswers[index]) {
                        userAnswers[index] = [];
                    }
                    
                    // æª¢æŸ¥æ˜¯å¦å·²é¸æ“‡
                    const selectedIndex = userAnswers[index].indexOf(optionIndex);
                    
                    if (selectedIndex === -1) {
                        // æª¢æŸ¥æ˜¯å¦å·²é¸æ“‡å…©å€‹é¸é …
                        if (userAnswers[index].length >= 2) {
                            // ç§»é™¤ç¬¬ä¸€å€‹é¸æ“‡çš„é¸é …åˆ†æ•¸
                            const firstOptionIndex = userAnswers[index][0];
                            const firstOption = quizData[index].options[firstOptionIndex];
                            firstOption.weights.forEach(weight => {
                                scores[weight.type] -= weight.value;
                            });
                            
                            // ç§»é™¤ç¬¬ä¸€å€‹é¸æ“‡
                            userAnswers[index].shift();
                            
                            // æ›´æ–°UI
                            const firstOptionCard = optionsContainer.children[firstOptionIndex];
                            firstOptionCard.classList.remove('selected');
                            const firstCheckbox = firstOptionCard.querySelector('div > div:first-child');
                            firstCheckbox.innerHTML = '';
                            firstCheckbox.classList.remove('bg-indigo-600', 'border-indigo-600');
                        }
                        
                        // æ·»åŠ æ–°é¸æ“‡
                        userAnswers[index].push(optionIndex);
                        
                        // æ·»åŠ åˆ†æ•¸
                        option.weights.forEach(weight => {
                            scores[weight.type] += weight.value;
                        });
                        
                        // æ›´æ–°UI
                        optionCard.classList.add('selected');
                        checkbox.classList.add('bg-indigo-600', 'border-indigo-600');
                        checkbox.innerHTML = '<svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>';
                    } else {
                        // ç§»é™¤é¸æ“‡
                        userAnswers[index].splice(selectedIndex, 1);
                        
                        // ç§»é™¤åˆ†æ•¸
                        option.weights.forEach(weight => {
                            scores[weight.type] -= weight.value;
                        });
                        
                        // æ›´æ–°UI
                        optionCard.classList.remove('selected');
                        checkbox.classList.remove('bg-indigo-600', 'border-indigo-600');
                        checkbox.innerHTML = '';
                    }
                    
                    // æª¢æŸ¥æ˜¯å¦æœ‰é¸æ“‡
                    const hasSelection = userAnswers[index].length > 0;
                    nextBtn.disabled = !hasSelection;
                    selectionHint.style.visibility = hasSelection ? 'hidden' : 'visible';
                });
                
                optionsContainer.appendChild(optionCard);
            });
        }

        // é¡¯ç¤ºçµæœ
        function showResult() {
            quizScreen.classList.add('hidden');
            resultLifestyleScreen.classList.remove('hidden');
            
            // è¨ˆç®—ç¸½åˆ†
            let totalScore = 0;
            for (const type in scores) {
                totalScore += scores[type];
            }
            
            // è¨ˆç®—ç™¾åˆ†æ¯”
            percentages = {};
            for (const type in scores) {
                percentages[type] = (scores[type] / totalScore) * 100;
            }
            
            // æ’åºç”Ÿæ´»å‹æ…‹
            sortedLifestyles = Object.entries(scores)
                .sort((a, b) => b[1] - a[1])
                .map(([type, score]) => ({
                    type,
                    score,
                    percentage: percentages[type]
                }));
            
            // é¡¯ç¤ºå‰ä¸‰åç”Ÿæ´»å‹æ…‹
            lifestyleResults.innerHTML = '';
            
            const topLifestyles = sortedLifestyles.slice(0, 3);
            const medals = ['medal-gold', 'medal-silver', 'medal-bronze'];
            const medalEmojis = ['ğŸ¥‡', 'ğŸ¥ˆ', 'ğŸ¥‰'];
            
            topLifestyles.forEach((lifestyle, index) => {
                const { type, score, percentage } = lifestyle;
                const typeInfo = typeDescriptions[type];
                
                // è¨ˆç®—æ¯å€‹å•é¡Œå°è©²ç”Ÿæ´»å‹æ…‹çš„è²¢ç»
                let questionContributions = '';
                userAnswers.forEach((answer, qIndex) => {
                    if (answer) {
                        let questionScore = 0;
                        answer.forEach(optionIndex => {
                            const option = quizData[qIndex].options[optionIndex];
                            const weight = option.weights.find(w => w.type === type);
                            if (weight) {
                                questionScore += weight.value;
                            }
                        });
                        if (questionScore > 0) {
                            questionContributions += `
                                <div class="text-sm text-gray-600 mb-1">
                                    Q${qIndex + 1}: ${questionScore.toFixed(1)}åˆ†
                                </div>
                            `;
                        }
                    }
                });
                
                const lifestyleCard = document.createElement('div');
                lifestyleCard.className = `fade-in bg-gradient-to-r ${typeInfo.color} rounded-xl p-6`;
                lifestyleCard.style.animationDelay = `${index * 0.2}s`;
                
                lifestyleCard.innerHTML = `
                    <div class="flex items-center mb-3">
                        <div class="medal ${medals[index]} font-bold">${medalEmojis[index]}</div>
                        <h4 class="text-xl font-bold ${typeInfo.textColor}">${index === 0 ? 'ä½ çš„ç¬¬ä¸€ç”Ÿæ´»æ–¹å¼' : `ç¬¬${index + 1}ç”Ÿæ´»æ–¹å¼`}ï¼š${typeInfo.title}</h4>
                    </div>
                    <p class="text-gray-700 mb-3">${typeInfo.description}</p>
                    <div class="mb-3">
                        <p class="text-sm font-medium text-gray-700 mb-1">å„é¡Œå¾—åˆ†ï¼š</p>
                        ${questionContributions}
                    </div>
                    <div class="flex justify-between items-center">
                        <span class="inline-block px-3 py-1 ${typeInfo.bgColor} text-white text-sm rounded-full">${typeInfo.code}</span>
                        <span class="text-gray-600 font-medium">ç¸½åˆ†ï¼š${score.toFixed(1)}åˆ† (${Math.round(percentage)}%)</span>
                    </div>
                `;
                
                lifestyleResults.appendChild(lifestyleCard);
            });
            
            // æ›´æ–°åˆ†æ•¸åˆ†å¸ƒ
            scoreDistribution.innerHTML = '';
            
            sortedLifestyles.forEach((lifestyle, index) => {
                const { type, score, percentage } = lifestyle;
                const typeColor = typeColors[type];
                
                const scoreBar = document.createElement('div');
                scoreBar.className = 'fade-in';
                scoreBar.style.animationDelay = `${index * 0.1}s`;
                scoreBar.innerHTML = `
                    <div class="flex items-center mb-1">
                        <div class="w-8 h-8 rounded-full ${typeColor.bg} ${typeColor.text} flex items-center justify-center font-bold mr-2">${type}</div>
                        <div class="text-sm font-medium">${typeDescriptions[type].title}</div>
                        <div class="ml-auto text-sm font-medium">${score.toFixed(1)}åˆ† (${Math.round(percentage)}%)</div>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-2.5">
                        <div class="${typeColor.bar} h-2.5 rounded-full chart-bar" style="width: 0%"></div>
                    </div>
                `;
                
                scoreDistribution.appendChild(scoreBar);
                
                // å‹•ç•«æ•ˆæœ
                setTimeout(() => {
                    const chartBar = scoreBar.querySelector('.chart-bar');
                    chartBar.style.width = `${percentage}%`;
                }, 800 + index * 100);
            });
            
            // é¡¯ç¤ºçµæœå¡ç‰‡å‹•ç•«
            setTimeout(() => {
                document.querySelector('#result-lifestyle-screen .result-card').classList.add('show');
            }, 100);
        }

        // é¡¯ç¤ºå­¸ç¾¤æ¨è–¦çµæœ
        function showMajorResults() {
            // é¡¯ç¤ºå‰ä¸‰åå­¸ç¾¤æ¨è–¦
            majorResults.innerHTML = '';
            
            // å­¸ç¾¤å°æ‡‰çš„ä»£è¡¨æ€§å­¸ç³»
            const majorDepartments = {
                "è§€å…‰ä¼‘é–’ç¾¤": ["è§€å…‰å­¸ç³»", "ä¼‘é–’éŠæ†©ç®¡ç†å­¸ç³»", "é¤æ—…ç®¡ç†å­¸ç³»"],
                "åœ‹éš›é—œä¿‚ç¾¤": ["åœ‹éš›é—œä¿‚å­¸ç³»", "å¤–äº¤å­¸ç³»", "å€åŸŸç ”ç©¶å­¸ç³»"],
                "åœ°ç†ç¾¤": ["åœ°ç†å­¸ç³»", "éƒ½å¸‚è¨ˆåŠƒå­¸ç³»", "ç’°å¢ƒè³‡æºå­¸ç³»"],
                "å¿ƒç†ç¾¤": ["å¿ƒç†å­¸ç³»", "è«®å•†èˆ‡è¼”å°å­¸ç³»", "è‡¨åºŠå¿ƒç†å­¸ç³»"],
                "æ•™è‚²ç¾¤": ["æ•™è‚²å­¸ç³»", "ç‰¹æ®Šæ•™è‚²å­¸ç³»", "å¹¼å…’æ•™è‚²å­¸ç³»"],
                "é†«è­·ç¾¤": ["è­·ç†å­¸ç³»", "é†«å­¸ç³»", "ç‰©ç†æ²»ç™‚å­¸ç³»"],
                "è—è¡“ç¾¤": ["ç¾è¡“å­¸ç³»", "éŸ³æ¨‚å­¸ç³»", "æˆ²åŠ‡å­¸ç³»"],
                "è¨­è¨ˆç¾¤": ["è¦–è¦ºå‚³é”è¨­è¨ˆå­¸ç³»", "å·¥æ¥­è¨­è¨ˆå­¸ç³»", "å»ºç¯‰å­¸ç³»"],
                "å‚³æ’­ç¾¤": ["å¤§çœ¾å‚³æ’­å­¸ç³»", "æ–°èå­¸ç³»", "å»£å‘Šå­¸ç³»"],
                "ç®¡ç†ç¾¤": ["ä¼æ¥­ç®¡ç†å­¸ç³»", "è²¡å‹™ç®¡ç†å­¸ç³»", "è¡ŒéŠ·ç®¡ç†å­¸ç³»"],
                "è²¡é‡‘ç¾¤": ["è²¡å‹™é‡‘èå­¸ç³»", "æœƒè¨ˆå­¸ç³»", "ç¶“æ¿Ÿå­¸ç³»"],
                "æ”¿æ²»ç¾¤": ["æ”¿æ²»å­¸ç³»", "å…¬å…±è¡Œæ”¿å­¸ç³»", "ç¤¾æœƒå­¸ç³»"],
                "ç†å·¥ç¾¤": ["é›»æ©Ÿå·¥ç¨‹å­¸ç³»", "è³‡è¨Šå·¥ç¨‹å­¸ç³»", "æ©Ÿæ¢°å·¥ç¨‹å­¸ç³»"],
                "æ–‡å²å“²ç¾¤": ["ä¸­æ–‡å­¸ç³»", "æ­·å²å­¸ç³»", "å“²å­¸ç³»"],
                "ç¤¾æœƒç§‘å­¸ç¾¤": ["ç¤¾æœƒå­¸ç³»", "äººé¡å­¸ç³»", "ç¤¾æœƒå·¥ä½œå­¸ç³»"]
            };
            
            // é‡æ–°è¨ˆç®—å­¸ç¾¤æ¨è–¦åˆ†æ•¸ï¼Œè€ƒæ…®ç”Ÿæ´»å‹æ…‹æ’å
            const majorScores = {};
            
            // æ ¹æ“šç”Ÿæ´»å‹æ…‹æ’ååŠ æ¬Šè¨ˆç®—å­¸ç¾¤æ¨è–¦
            sortedLifestyles.forEach((lifestyle, rankIndex) => {
                const { type, percentage } = lifestyle;
                const typeInfo = typeDescriptions[type];
                
                // èª¿æ•´æ’ååŠ æ¬Šä¿‚æ•¸ï¼Œä½¿å½±éŸ¿æ›´å¹³è¡¡
                const rankWeights = [1.0, 0.8, 0.6, 0.4, 0.2, 0.1];
                const rankWeight = rankWeights[rankIndex] || 0.1;
                
                // è¨ˆç®—æ¯å€‹å­¸ç¾¤çš„æ¨è–¦åˆ†æ•¸
                typeInfo.majors.forEach(major => {
                    const majorScore = (major.weight * (percentage / 100) * rankWeight);
                    
                    if (!majorScores[major.name]) {
                        majorScores[major.name] = majorScore;
                    } else {
                        majorScores[major.name] += majorScore;
                    }
                });
            });
            
            // é‡æ–°æ’åºå­¸ç¾¤æ¨è–¦
            const sortedMajors = Object.entries(majorScores)
                .sort((a, b) => b[1] - a[1])
                .map(([name, score]) => ({ name, score }));
            
            const topMajors = sortedMajors.slice(0, 3);
            const majorColors = ['bg-indigo-600', 'bg-pink-600', 'bg-amber-600'];
            const majorBgColors = ['bg-indigo-50', 'bg-pink-50', 'bg-amber-50'];
            const majorTextColors = ['text-indigo-800', 'text-pink-800', 'text-amber-800'];
            const medals = ['medal-gold', 'medal-silver', 'medal-bronze'];
            const medalEmojis = ['ğŸ¥‡', 'ğŸ¥ˆ', 'ğŸ¥‰'];
            
            topMajors.forEach((major, index) => {
                const { name, score } = major;
                const departments = majorDepartments[name] || [];
                
                const majorCard = document.createElement('div');
                majorCard.className = `fade-in ${majorBgColors[index]} rounded-xl p-6`;
                majorCard.style.animationDelay = `${index * 0.2}s`;
                
                // æ‰¾å‡ºå“ªäº›ç”Ÿæ´»å‹æ…‹æ¨è–¦äº†é€™å€‹å­¸ç¾¤ï¼Œä¸¦æŒ‰æ’åæ’åº
                const recommendingTypes = [];
                for (const type in typeDescriptions) {
                    const typeInfo = typeDescriptions[type];
                    const hasMajor = typeInfo.majors.some(m => m.name === name);
                    if (hasMajor) {
                        recommendingTypes.push(type);
                    }
                }
                
                // æŒ‰ç”Ÿæ´»å‹æ…‹æ’åæ’åº
                recommendingTypes.sort((a, b) => {
                    const rankA = sortedLifestyles.findIndex(l => l.type === a);
                    const rankB = sortedLifestyles.findIndex(l => l.type === b);
                    return rankA - rankB;
                });
                
                // ç”Ÿæˆæ¨è–¦ç†ç”±
                let reasonHTML = '';
                recommendingTypes.forEach(type => {
                    const typeInfo = typeDescriptions[type];
                    const majorInfo = typeInfo.majors.find(m => m.name === name);
                    if (majorInfo) {
                        const typePercentage = percentages[type];
                        const rankIndex = sortedLifestyles.findIndex(l => l.type === type);
                        const rankWeights = [1.0, 0.8, 0.6, 0.4, 0.2, 0.1];
                        const rankWeight = rankWeights[rankIndex] || 0.1;
                        const weightedScore = majorInfo.weight * rankWeight;
                        
                        if (typePercentage > 5) { // åªé¡¯ç¤ºæœ‰æ„ç¾©çš„ç™¾åˆ†æ¯”
                            reasonHTML += `<li>
                                <span class="${typeColors[type].text} font-medium">${typeInfo.title}</span> 
                                (æ’åç¬¬${rankIndex + 1}å) 
                                æ¨è–¦æŒ‡æ•¸ ${weightedScore.toFixed(1)}ï¼ˆä½”ä½ çµæœçš„ ${Math.round(typePercentage)}%ï¼‰
                            </li>`;
                        }
                    }
                });
                
                // ç”Ÿæˆä»£è¡¨æ€§å­¸ç³»åˆ—è¡¨
                let departmentsHTML = '';
                if (departments.length > 0) {
                    departmentsHTML = `
                        <div class="mt-3">
                            <p class="text-sm font-medium text-gray-700 mb-2">ä»£è¡¨æ€§å­¸ç³»ï¼š</p>
                            <div class="flex flex-wrap gap-2">
                                ${departments.map(dept => `
                                    <span class="px-2 py-1 bg-white rounded-full text-sm text-gray-600 border border-gray-200">
                                        ${dept}
                                    </span>
                                `).join('')}
                            </div>
                        </div>
                    `;
                }
                
                majorCard.innerHTML = `
                    <div class="flex items-center mb-3">
                        <div class="medal ${medals[index]} font-bold">${medalEmojis[index]}</div>
                        <h4 class="text-xl font-bold ${majorTextColors[index]}">${name}</h4>
                    </div>
                    <div class="mb-3">
                        <p class="text-gray-700 font-medium mb-2">æ¨è–¦ç†ç”±ï¼š</p>
                        <ul class="list-disc pl-5 text-sm text-gray-600 space-y-1">
                            ${reasonHTML}
                        </ul>
                    </div>
                    ${departmentsHTML}
                    <div class="w-full bg-white rounded-full h-2.5 mt-4">
                        <div class="${majorColors[index]} h-2.5 rounded-full chart-bar" style="width: 0%"></div>
                    </div>
                `;
                
                majorResults.appendChild(majorCard);
                
                // å‹•ç•«æ•ˆæœ
                setTimeout(() => {
                    const chartBar = majorCard.querySelector('.chart-bar');
                    const maxScore = topMajors[0].score;
                    const percentage = (score / maxScore) * 100;
                    chartBar.style.width = `${percentage}%`;
                }, 500 + index * 200);
            });
        }
    </script>
</body>
</html>
